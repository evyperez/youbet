/* FORMS
  ============================================================================ */

/**
  * Property compatibility table for form widgets
  * @see https://developer.mozilla.org/en-US/docs/Property_compatibility_table_for_form_widgets
*/

form {
  margin: 0;
}

fieldset {
  max-width: none;
  min-width: 0;

  padding: 0;
  margin: 0;

  border: 0;
}

/**
  * 1. Correct the text wrapping in Edge and IE.
  * 2. Correct the color inheritance from `fieldset` elements in IE.
  * 3. Remove the padding so developers are not caught out when they zero out
  *    `fieldset` elements in all browsers.
  * 4. to override default firefox style
  */
fieldset > legend,
legend {
  display: table;

  max-width: 100%;

  padding: 0;

  font-weight: bolder;

  white-space: normal;

  color: inherit;

  box-sizing: border-box;
}

.label,
label {
  display: block;

  margin-bottom: to-rem(4px);

  font-size: to-em(12px);
  line-height: to-rem(20px);

  cursor: pointer;

  color: palette('gray');

  .tooltip {
    margin-left: 8px;
  }
}

.validation {
  margin: 0;
  margin-top: 8px;

  font-size: to-em(12px);
  line-height: to-rem(16px);
}

.validation--success > span,
.validation--success {
  color: palette('label', 'success');
}

.validation--warning > span,
.validation--warning {
  color: palette('label', 'warning');
}

.validation--error > span,
.validation--error {
  color: palette('label', 'danger');
}

.required {
  font-weight: bold;

  color: palette('label', 'danger');
}

label * {
  font-size: 1em;
}

/* pragraphs inside forms
  ---------------------------------------------------------------------------- */
form br {
  clear: both;
}

/* common rules
  * @see https://github.com/jonathantneal/sanitize.css/issues/115#issue-178563944
  ---------------------------------------------------------------------------- */

/**
  * 1. Change the font styles in all browsers (opinionated).
  * 2. Address margins set differently in Firefox 4+, Safari 5, and Chrome.
  * 3. Address inconsistent `text-transform` inheritance for `button` and `select`.
  * 4. Allow setting the same size for all form fields.
  * 5. Add a focus outline for some fields only (opinionated).
  * 6. Set the focus outline to be just around the field border.
  */
%os-element-reset {
  display: inline-block;

  padding: 1px;
  margin: 0;

  overflow: visible;

  font-size: inherit;
  line-height: inherit;
  font-family: inherit;
  -webkit-font-smoothing: inherit;
  letter-spacing: inherit;

  text-align: inherit;
  text-transform: inherit;
  white-space: normal;
  vertical-align: top;

  color: inherit;

  border-width: $stroke;
  border-style: solid;
  border-color: palette('border');
  border-radius: $rounded-corner-form;

  outline: 0;

  box-sizing: border-box;

  &:focus {
    outline: 1px dotted palette('black');
    outline-offset: 0;
  }
}

:disabled {
  cursor: not-allowed;

  color: palette('disabled', 'foreground');

  background: palette('disabled', 'background');
}

/**
  * Correct the text style of placeholders
  */

@mixin placeholder {
  color: palette('placeholder');

  opacity: 1;
}

@mixin placeholder--focus {
  color: palette('placeholder', 'focus');
}

::placeholder {
  @include placeholder;
}

:focus::placeholder {
  @include placeholder--focus;
}

[type='file'],
[type='color'],
[type='image'] {
  padding: 0;

  vertical-align: middle;

  cursor: pointer;

  border: 0;
}

/**
  * Consistent display mode in Firefox when image field is empty.
  */

[type='image'] {
  display: inline-block;
}

/**
  * Consistent background color on Chrome.
  */
[type='color'] {
  background-color: palette('white');
}

/**
  * Remove the inside button border in Chrome.
  */
::-webkit-color-swatch {
  border: 0;
}

/**
  * Remove the inside button border in Firefox.
  */
::-moz-color-swatch {
  border: 0;
}

/**
  * Remove the inside button padding in Chrome.
  */
::-webkit-color-swatch-wrapper {
  padding: 0;
}

/**
  * Remove the inside button padding in Firefox.
  */
::-moz-color-swatch-wrapper {
  padding: 0;
}

//

/**
  * 1. Consistent background color on Edge and IE.
  * 2. override Opera margin and padding
*/

[type='file'] {
  height: 2em;
  min-width: 250px;

  padding: 0;
  // sass-lint:disable-line no-important
  margin: 0;

  font-family: inherit;

  text-align: start; // sass-lint:disable-line no-important
  white-space: nowrap;

  cursor: default;

  background-color: transparent;

  border-style: none; // sass-lint:disable-line no-important

  appearance: normal; //sass-lint:disable-line indentation

}

[type='file'] > [type='text'] {
  height: inherit;

  font-size: inherit;
  letter-spacing: inherit;

  color: inherit;

  background-color: inherit;

  border-color: inherit;
}

[type='file'] > [type='button'] {
  height: inherit;

  padding: 0;

  font-size: inherit;

  white-space: normal;

  box-sizing: content-box;

  appearance: button;
}

/**
  * 1. Correct the inability to style clickable types in iOS and Safari.
  * 2. Consistent background color for all browsers (same than above).
  * 3. Consistent style, width and color between all fields (same than above).
  * 4. Change font properties to `inherit` in Safari.
  */

::-webkit-file-upload-button {
  font: inherit;

  cursor: pointer;

  background-color: palette('button');

  border-width: 1px;
  border-style: solid;
  border-color: palette('border');

  &:hover {
    background-color: palette('button', 'focus');
  }
}

/**
  Add a focus outline for color field (Chrome) and file selector field (Chrome & Safari) (same than above).
*/

:focus::-webkit-color-swatch,
:focus::-webkit-file-upload-button {
  outline: 1px dotted palette('black');
}

/**
  Consistent style, width and color between all fields (same than above).
*/

::-ms-browse {
  border-width: 1px;
  border-style: solid;
  border-color: palette('border');

  &:hover {
    background-color: palette('button', 'focus');
  }
}

/**
  * Add a focus outline for file selector field in Edge and IE (same than above).
  */

:focus::-ms-browse {
  outline: 1px dotted palette('black');
}

/* ALERTS and FORMS */

[required],
:required {
  box-shadow: none;
}

/**
  * Remove the focus outline in Firefox to only keep the original effect.
  */
[type='range']:-moz-focusring,
[type='checkbox']:-moz-focusring,
[type='radio']:-moz-focusring {
  outline-width: 0;
}
